<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Main page</title>
  <script th:src="@{/resources/jquery/jquery.min.js}"></script>
    <script th:src="@{/resources/script.js}"></script>
    <link type="text/css" rel="stylesheet" th:href="@{/resources/style.css}">
</head>
<body>
<main class="tables-block">
  <div class="users-table-block">
    <table class="users-table">
      <thead>
        <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Age</th>
          <th>City</th>
          <th>Street</th>
          <th>Building</th>
        </tr>
      </thead>
      <tbody>
        <th:block th:each="user : ${users}">
          <tr>
            <td th:text="${user.id}"></td>
            <td th:text="${user.name}"></td>
            <td th:text="${user.age}"></td>
            <td th:text="${user.address.city} ?: ''"></td>
            <td th:text="${user.address.street} ?: ''"></td>
            <td th:text="${user.address.building} ?: ''"></td>
          </tr>
        </th:block>
      </tbody>
    </table>
  </div>

  <div class="add-user-block">
    <form method="post" th:action="@{/users/add}" id="add_form">
      <table>
        <tbody>
          <tr>
            <td><label for="add_name">Имя</label></td>
            <td><input type="text" name="name" id="add_name" ></td>
          </tr>
          <tr>
            <td><label for="add_age">Возраст</label></td>
            <td><input type="number" name="age" id="add_age" ></td>
          </tr>
          <tr>
            <td><label for="add_city">Город</label></td>
            <td><input type="text" name="city" id="add_city" ></td>
          </tr>
          <tr>
            <td><label for="add_street">Улица</label></td>
            <td><input type="text" name="street" id="add_street" ></td>
          </tr>
          <tr>
            <td><label for="add_building">Строение</label></td>
            <td><input type="number" name="building" id="add_building" ></td>
          </tr>
          <tr>
            <td></td>
            <td><button type="submit">Добавить пользователя</button></td>
          </tr>
        </tbody>
      </table>
    </form>
  </div>

  <div class="update-user-block">
    <form method="post" th:action="@{/users/update}" id="update_form">
      <table>
        <tbody>
          <tr>
            <td><label for="update_id">Id</label></td>
            <td><input type="number" name="id" id="update_id"></td>
          </tr>
          <tr>
            <td><label for="update_name">Имя</label></td>
            <td><input type="text" name="name" id="update_name"></td>
          </tr>
          <tr>
            <td><label for="update_age">Возраст</label></td>
            <td><input type="number" name="age" id="update_age"></td>
          </tr>
          <tr>
            <td><label for="update_city">Город</label></td>
            <td><input type="text" name="city" id="update_city"></td>
          </tr>
          <tr>
            <td><label for="update_street">Улица</label></td>
            <td><input type="text" name="street" id="update_street"></td>
          </tr>
          <tr>
            <td><label for="update_building">Строение</label></td>
            <td><input type="number" name="building" id="update_building"></td>
          </tr>
          <tr>
            <td></td>
            <td><button type="submit">Изменить пользователя</button></td>
          </tr>
        </tbody>
      </table>
    </form>
  </div>

  <div class="delete-user-block">
    <form method="post" th:action="@{/users/delete}" id="delete_form">
      <table>
        <tbody>
          <tr>
            <td><label for="delete_id" style="padding-right: 20px">Id</label></td>
            <td><input type="number" name="delete_id" id="delete_id"></td>
          </tr>
          <tr>
            <td></td>
            <td><button type="submit">Удалить пользователя</button></td>
          </tr>
        </tbody>
      </table>
    </form>
  </div>
</main>
</body>
</html>